(this["webpackJsonptest-task-incora"]=this["webpackJsonptest-task-incora"]||[]).push([[0],{101:function(e,t,r){},106:function(e,t,r){},156:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(20),o=r.n(c),a=(r(101),r(15)),i=r(17),u=(r(106),r(12)),l="LOAD_USERS",j="USERS_FAILED",d="LOAD_SINGLE_USER",h="SINGLE_USER_FAILED",b="LOAD_POSTS",O="POSTS_FAILED",f="LOAD_SINGLE_POST",m="SINGLE_POST_FAILED",p="ADD_POST",x="LOAD_COMMENTS",g="COMMENTS_FAILED",v="https://jsonplaceholder.typicode.com",y=function(){return function(e){return fetch("".concat(v,"/users")).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.errorMessage)})).then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:l,payload:e}}(t))})).catch((function(t){return e(function(e){return{type:j,payload:e}}(t.message))}))}},N=function(e){return function(t){return fetch("".concat(v,"/users/").concat(e)).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.errorMessage)})).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:d,payload:e}}(e))})).catch((function(e){return t(function(e){return{type:h,payload:e}}(e.message))}))}},E=function(e){return{type:f,payload:e}},w=function(e){return function(t){return fetch("".concat(v,"/posts/").concat(e)).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.errorMessage)})).then((function(e){return e.json()})).then((function(e){return t(E(e))})).catch((function(e){return t(function(e){return{type:m,payload:e}}(e.message))}))}},S=function(e){return function(t){return fetch("".concat(v,"/posts?userId=").concat(e)).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.errorMessage)})).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:b,payload:e}}(e))})).catch((function(e){return t(function(e){return{type:O,payload:e}}(e.message))}))}},M=function(e,t,r){return function(n){var s={title:t,body:r,userId:e};return fetch("".concat(v,"/posts"),{method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.errorMessage)})).then((function(e){return e.json()})).then((function(e){n({type:p,payload:e})})).catch((function(e){console.log("Create Post: ",e.message),alert("Cannot create post")}))}},P=function(e){return{type:g,payload:e}},I=function(e){return function(t){return fetch("".concat(v,"/comments?postId=").concat(e)).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.errorMessage)})).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:x,payload:e}}(e))})).catch((function(e){return t(P(e.message))}))}},C=r(93),T=r(2),L=function(e){var t="https://".concat(e.user.website),r="/users/".concat(e.user.id,"/posts");return Object(T.jsxs)("div",{className:"user",children:[Object(T.jsx)("h5",{className:"username",children:e.user.username}),Object(T.jsx)("p",{className:"name",children:e.user.name}),Object(T.jsxs)("div",{className:"row",children:[Object(T.jsxs)("div",{className:"col-sm",children:[Object(T.jsxs)("div",{children:["Email: ",e.user.email]}),Object(T.jsxs)("div",{children:["City: ",e.user.address.city]})]}),Object(T.jsxs)("div",{className:"col-sm",children:[Object(T.jsxs)("div",{children:["Phone: ",e.user.phone]}),Object(T.jsxs)("div",{children:["WebSite: ",Object(T.jsx)("a",{href:t,children:e.user.website})]})]}),Object(T.jsx)("div",{className:"col-sm d-flex justify-content-center",children:Object(T.jsx)(i.b,{to:r,children:Object(T.jsx)(C.a,{className:!0,outline:!0,color:"primary",children:"Posts"})})})]})]})},D=Object(u.g)(Object(a.connect)((function(e){return{users:e.users}}),(function(e){return{fetchUsers:function(){return e(y())}}}))((function(e){Object(n.useEffect)((function(){e.fetchUsers()}),[]);var t=e.users.users.map((function(e){return Object(T.jsx)(L,{user:e},e.id)})),r=function(){return e.users.errorMessage?Object(T.jsx)("h2",{children:e.users.errorMessage}):Object(T.jsx)("div",{children:t})};return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h2",{className:"users-header",children:"Users"}),Object(T.jsx)(r,{})]})}))),F=r(30),U=r(157),k=r(162),_=r(158),A=r(159),R=r(160),G=function(e){var t="/users/".concat(e.post.userId,"/posts/").concat(e.post.id);return Object(T.jsxs)("div",{className:"post",children:[Object(T.jsxs)(U.a,{children:[Object(T.jsx)("h2",{className:"col-sm-10",children:e.post.title}),Object(T.jsx)("div",{className:" col-sm-2",children:Object(T.jsx)(i.b,{to:t,children:Object(T.jsx)(C.a,{color:"secondary",children:"Details"})})})]}),Object(T.jsx)("p",{children:e.post.body})]})},J=function(e){if(e.user.user){var t="https://".concat(e.user.user.website);return Object(T.jsxs)("div",{className:"detailed-user",children:[Object(T.jsx)("h3",{className:"detailed-user-name",children:e.user.user.name}),Object(T.jsxs)("div",{className:"detailed-user-body",children:[Object(T.jsxs)("h6",{children:["@",e.user.user.username]}),Object(T.jsxs)("div",{children:["Email: ",e.user.user.email]}),Object(T.jsxs)("div",{children:["Phone: ",e.user.user.phone]}),Object(T.jsxs)("div",{children:["City: ",e.user.user.address.city]}),Object(T.jsxs)("div",{children:["Street: ",e.user.user.address.street]}),Object(T.jsxs)("div",{children:["WorkPlace: ",e.user.user.company.name]}),Object(T.jsxs)("div",{children:["WebSite: ",Object(T.jsx)("a",{href:t,children:e.user.user.website})]})]})]})}return Object(T.jsx)("h4",{children:"Loading..."})},B=r(28),W=Object(u.g)(Object(a.connect)((function(e){return{posts:e.posts,user:e.singleUser}}),(function(e){return{fetchPosts:function(t){return e(S(t))},fetchSingleUser:function(t){return e(N(t))},addPost:function(t,r,n){return e(M(t,r,n))}}}))((function(e){var t=Object(n.useState)(!1),r=Object(F.a)(t,2),s=r[0],c=r[1],o=function(){c((function(e){return!e}))};Object(n.useEffect)((function(){e.fetchPosts(e.match.params.userId),e.fetchSingleUser(e.match.params.userId)}),[]);var a=e.posts.posts.map((function(e){return Object(T.jsx)(G,{post:e},e.id)})),i=function(){return e.posts.errorMessage?Object(T.jsx)("h2",{children:e.posts.errorMessage}):Object(T.jsx)("div",{children:a})},u=function(){return e.user.errorMessage?Object(T.jsx)("h2",{children:e.user.errorMessage}):Object(T.jsx)(J,{user:e.user})};return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)(u,{}),Object(T.jsxs)(U.a,{children:[Object(T.jsx)("div",{className:"col-sm-2",children:Object(T.jsx)("h4",{children:"Posts"})}),Object(T.jsx)("div",{className:"col-sm-2",children:Object(T.jsx)(C.a,{onClick:o,color:"success",children:"+Add New!"})})]}),Object(T.jsxs)(k.a,{isOpen:s,toggle:o,children:[Object(T.jsx)(_.a,{toggle:o,children:"Add New Post"}),Object(T.jsx)(A.a,{children:Object(T.jsx)(B.LocalForm,{onSubmit:function(t){return function(t){o(),e.addPost(e.user.user.id,t.header,t.body)}(t)},children:Object(T.jsxs)("div",{className:"container",children:[Object(T.jsxs)(U.a,{className:"form-group",children:[Object(T.jsx)(R.a,{children:"Header"}),Object(T.jsx)(B.Control.text,{className:"form-control",model:".header",name:"header",id:"header",placeholder:"Header"})]}),Object(T.jsxs)(U.a,{className:"form-group",children:[Object(T.jsx)(R.a,{htmlFor:"body",children:"Body"}),Object(T.jsx)(B.Control.textarea,{className:"form-control",model:".body",name:"body",id:"body",rows:"6"})]}),Object(T.jsx)(U.a,{className:"form-group",children:Object(T.jsx)(C.a,{type:"submit",color:"success",children:"Submit"})})]})})})]}),Object(T.jsx)(i,{})]})}))),H=r(7),q=r(163),z=r(164),K=r(165),Q=r(161),V=function(e){var t=Object(n.useState)(!1),r=Object(F.a)(t,2),s=r[0],c=r[1],o="/users/".concat(e.post.userId,"/posts");return Object(T.jsxs)("div",{className:"detailed-post col-lg-8",children:[Object(T.jsxs)(U.a,{children:[Object(T.jsx)("h2",{className:"col-sm-10",children:e.post.title}),Object(T.jsx)("div",{className:"col-sm-2",children:Object(T.jsxs)(q.a,{isOpen:s,toggle:function(){return c(!s)},children:[Object(T.jsx)(z.a,{caret:!0,children:Object(T.jsx)("i",{class:"fa fa-lg fa-ellipsis-v"})}),Object(T.jsxs)(K.a,{children:[Object(T.jsx)(Q.a,{onClick:e.toggleModalEdit,children:Object(T.jsx)(C.a,{color:"secondary",children:"Edit"})}),Object(T.jsx)(Q.a,{onClick:e.deletePost,children:Object(T.jsx)(i.b,{to:o,children:Object(T.jsx)(C.a,{outline:!0,color:"danger",children:"Delete"})})})]})]})})]}),Object(T.jsx)("p",{className:"detailed-post-body",children:e.post.body})]})},X=function(e){return Object(T.jsxs)("div",{className:"comment",children:[Object(T.jsx)("h4",{className:"comment-name",children:e.comment.name}),Object(T.jsxs)("div",{className:"comment-body",children:[Object(T.jsx)("div",{children:e.comment.email}),Object(T.jsx)("div",{children:e.comment.body})]})]})},Y=Object(u.g)(Object(a.connect)((function(e){return{comments:e.comments,post:e.singlePost}}),(function(e){return{fetchComments:function(t){return e(I(t))},fetchSinglePost:function(t){return e(w(t))},fetchUpdatePost:function(t,r,n,s){return e(function(e,t,r,n){return function(s){console.log(e);var c={id:e,userId:t,title:r,body:n};return fetch("".concat(v,"/posts/").concat(e),{method:"PUT",body:JSON.stringify(c),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.errorMessage)})).then((function(e){return e.json()})).then((function(e){return s(E(e))})).catch((function(e){return s(P(e.message))}))}}(t,r,n,s))},fetchDeletePost:function(t,r){return e(function(e){return function(t){return fetch("".concat(v,"/posts/").concat(e),{method:"DELETE"})}}(t))}}}))((function(e){var t=Object(n.useState)({id:null,userId:null,title:null,body:null}),r=Object(F.a)(t,2),s=r[0],c=r[1],o=Object(n.useState)(!1),a=Object(F.a)(o,2),i=a[0],u=a[1];Object(n.useEffect)((function(){e.fetchComments(e.match.params.postId),e.fetchSinglePost(e.match.params.postId)}),[]);var l=function(e){u((function(e){return!e})),e&&c((function(t){return Object(H.a)(Object(H.a)({},t),{},{id:e.id,title:e.title,body:e.body,userId:e.userId})}))},j=e.comments.comments.map((function(e){return Object(T.jsx)(X,{comment:e},e.id)})),d=function(){return e.comments.errorMessage?Object(T.jsx)("h2",{children:e.comments.errorMessage}):Object(T.jsx)("div",{children:j})},h=function(){return e.post.post?Object(T.jsx)(V,{deletePost:function(){return t=e.post.post,void e.fetchDeletePost(t.id,t.userId);var t},toggleModalEdit:function(){return l(e.post.post)},post:e.post.post}):Object(T.jsx)("div",{children:"Loading.."})};return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h2",{children:"Post"}),Object(T.jsx)(h,{}),Object(T.jsxs)(k.a,{isOpen:i,toggle:l,children:[Object(T.jsx)(_.a,{toggle:l,children:"Edit Comment"}),Object(T.jsx)(A.a,{children:Object(T.jsx)(B.LocalForm,{onSubmit:function(t){return l(),void e.fetchUpdatePost(s.id,s.userId,s.title,s.body)},children:Object(T.jsxs)("div",{className:"container",children:[Object(T.jsxs)(U.a,{className:"form-group",children:[Object(T.jsx)(R.a,{htmlFor:"title",children:"Title"}),Object(T.jsx)(B.Control.text,{className:"form-control",model:".title",name:"title",id:"title",value:s.title,onChange:function(e){c((function(t){return Object(H.a)(Object(H.a)({},t),{},{title:e.target.value})}))}})]}),Object(T.jsxs)(U.a,{className:"form-group",children:[Object(T.jsx)(R.a,{htmlFor:"text",children:"Text"}),Object(T.jsx)(B.Control.textarea,{className:"form-control",model:".text",name:"text",id:"text",value:s.body,onChange:function(e){c((function(t){return Object(H.a)(Object(H.a)({},t),{},{body:e.target.value})}))},rows:"5"})]}),Object(T.jsx)(U.a,{className:"form-group",children:Object(T.jsx)(C.a,{type:"submit",color:"success",children:"Submit"})})]})})})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"",children:Object(T.jsx)("h4",{children:"Comments"})}),Object(T.jsx)("div",{className:"container",children:Object(T.jsx)(d,{})})]})]})}))),Z=function(){return Object(T.jsxs)(u.d,{children:[Object(T.jsx)(u.b,{exact:!0,path:"/users",children:Object(T.jsx)(D,{})}),Object(T.jsx)(u.b,{exact:!0,path:"/users/:userId/posts",component:function(){return Object(T.jsx)(W,{})}}),Object(T.jsx)(u.b,{exact:!0,path:"/users/:userId/posts/:postId",component:function(){return Object(T.jsx)(Y,{})}}),Object(T.jsx)(u.a,{to:"/users"})]})},$=r(22),ee=r(95),te=r.n(ee),re=r(96),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[],errorMessage:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:null,posts:t.payload});case O:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:t.payload,posts:[]});case p:var r=t.payload;return Object(H.a)(Object(H.a)({},e),{},{posts:e.posts.concat(r)});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[],errorMessage:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:null,users:t.payload});case j:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:t.payload,users:[]});default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{comments:[],errorMessage:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:null,comments:t.payload});case g:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:t.payload,comments:[]});default:return e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,errorMessage:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:null,user:t.payload});case h:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:t.payload,user:null});default:return e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:null,errorMessage:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:null,post:t.payload});case m:return Object(H.a)(Object(H.a)({},e),{},{errorMessage:t.payload,post:null});default:return e}},ie=Object($.createStore)(Object($.combineReducers)({users:se,posts:ne,comments:ce,singleUser:oe,singlePost:ae}),Object($.applyMiddleware)(re.a,te.a));var ue=function(){return Object(T.jsx)(a.Provider,{store:ie,children:Object(T.jsx)(i.a,{children:Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(Z,{})})})})},le=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,166)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),s(e),c(e),o(e)}))};r(153),r(154),r(155);o.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(ue,{})}),document.getElementById("root")),le()}},[[156,1,2]]]);
//# sourceMappingURL=main.deb82a04.chunk.js.map